(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{290:function(a,s,t){"use strict";t.r(s);var e=t(7),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[a._v("#")]),a._v(" 常见问题")]),a._v(" "),s("h2",{attrs:{id:"搭建失败或系统报错的常见解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搭建失败或系统报错的常见解决方案"}},[a._v("#")]),a._v(" 搭建失败或系统报错的常见解决方案")]),a._v(" "),s("p",[a._v("有以下几个方案，可以按照顺序依次尝试，修复力度逐层递增。")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("关闭防火墙：如果开放了对应的端口，但是访问不了域名或者控制面板，以下为常用关闭防火墙的命令，仅供参考。")]),a._v(" "),s("ul",[s("li",[a._v("CentOS："),s("code",[a._v("systemctl disable firewalld")])]),a._v(" "),s("li",[a._v("Debian/Ubuntu："),s("code",[a._v("sudo ufw disable")])])])]),a._v(" "),s("li",[s("p",[a._v("故障监测：运行一键安装脚本选择故障检测的选项，对出现运行异常的应用进行单独地卸载重装。")])]),a._v(" "),s("li",[s("p",[a._v("查询系统报错日志：运行一键安装脚本选择日志查询选项，查询对应应用的日志信息，从而进行针对性修复。")])]),a._v(" "),s("li",[s("p",[a._v("重启服务器。")])]),a._v(" "),s("li",[s("p",[a._v("重装系统：有时候搭建失败可能是服务器系统不纯净导致，可以尝试DD系统。")])])]),a._v(" "),s("h1",{attrs:{id:"忘记密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#忘记密码"}},[a._v("#")]),a._v(" 忘记密码")]),a._v(" "),s("p",[a._v("如果忘记数据库或者Redis密码，则在Trojan Panel后端服务器上执行以下命令，即可打印配置信息")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" trojan-panel "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /tpdata/trojan-panel/confg/config.ini\n")])])]),s("p",[a._v("如果忘记了管理面板的账号和密码，则在数据库服务器上执行以下命令，即可将超级管理员的账号和密码重设为sysadmin\n123456，登录后立刻修改默认密码。")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" trojan-panel-mariadb mysql -h"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_ip}")]),a._v('"')]),a._v(" -P"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_port}")]),a._v('"')]),a._v(" -u"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_user}")]),a._v('"')]),a._v(" -p"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${mariadb_pas}")]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"update account set username = 'sysadmin',pass = 'tFjD2X1F6i9FfWp2GDU5Vbi1conuaChDKIYbw9zMFrqvMoSz',hash='4366294571b8b267d9cf15b56660f0a70659568a86fc270a52fdc9e5' where id = 1 limit 1\"")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&>")]),a._v("/dev/null\n")])])]),s("p",[a._v("参数解释：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("${mariadb_ip}")]),a._v("：数据库的IP地址")]),a._v(" "),s("li",[s("code",[a._v("${mariadb_port}")]),a._v("：数据库的端口")]),a._v(" "),s("li",[s("code",[a._v("${mariadb_user}")]),a._v("：数据库的用户名")]),a._v(" "),s("li",[s("code",[a._v("${mariadb_pas}")]),a._v("：数据库的密码")])]),a._v(" "),s("h2",{attrs:{id:"证书申请失败"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#证书申请失败"}},[a._v("#")]),a._v(" 证书申请失败")]),a._v(" "),s("p",[a._v("Caddy内置"),s("a",{attrs:{href:"https://acme.sh",target:"_blank",rel:"noopener noreferrer"}},[a._v("acme"),s("OutboundLink")],1),a._v("进行证书申请，使用Caddy自动申请/续签证书时，需要临时听在80端口，所以你的服务器需要开放80端口并且保证80端口没有被其他进程占用，\n并且每天申请次数有限制，通常每天超过2次就有很大概率会申请失败，如果申请失败，可以尝试重启Caddy容器或者重启服务器，Caddy就会重新申请，但是不保证100%申请成功。\n如果一直申请失败，可以等第二天重试或者在搭建之前提前准备好证书并上传至服务器，在安装的时候选择手动设置证书路径选项指定证书的绝对路径。")])])}),[],!1,null,null,null);s.default=r.exports}}]);